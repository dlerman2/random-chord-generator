{"version":3,"sources":["chords.js","App.js","index.js"],"names":["SCALES","PROGRESSIONS","label","chords","pickRandom","array","Math","floor","random","length","transposeToRandom","progression","scale","map","measure","split","part","slice","match","chord","root","charAt","index","indexOf","transposeChord","join","transposeMeasure","getRandomProgression","progressions","App","useState","fromPairs","p","selected","setSelected","className","type","checked","onChange","e","target","onClick","preventDefault","rawChords","push","url","console","info","window","location","href","downloadChart","filter","disabled","Object","values","some","v","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.78adfee3.chunk.js","sourcesContent":["const SCALES = [\n  ['C', 'D', 'E', 'F', 'G', 'A', 'B'],\n  ['F', 'G', 'A', 'Bb', 'C', 'D', 'E'],\n  ['Bb', 'C', 'D', 'Eb', 'F', 'G', 'A'],\n  ['Eb', 'F', 'G', 'Ab', 'Bb', 'C', 'D'],\n  ['Ab', 'Bb', 'C', 'Db', 'Eb', 'F', 'G'],\n  ['Db', 'Eb', 'F', 'Gb', 'Ab', 'Bb', 'C'],\n  ['Gb', 'Ab', 'Bb', 'Cb', 'Db', 'Eb', 'F'],\n\n  ['G', 'A', 'B', 'C', 'D', 'E', 'F#'],\n  ['D', 'E', 'F#', 'G', 'A', 'B', 'C#'],\n  ['A', 'B', 'C#', 'D', 'E', 'F#', 'G#'],\n  ['E', 'F#', 'G#', 'A', 'B', 'C#', 'D#'],\n  ['B', 'C#', 'D#', 'E', 'F#', 'G#', 'A#'],\n  ['F#', 'G#', 'A#', 'B', 'C#', 'D#', 'E#'],\n];\n\nexport const PROGRESSIONS = [\n  {\n    label: 'Major 2-5-1',\n    chords: ['D-7 G7 ', 'C^7   '],\n  },\n  {\n    label: 'Minor 2-5-1',\n    chords: ['D-7b5 G7b9b13 ', 'C-7   '],\n  },\n  {\n    label: 'Major 5-1',\n    chords: ['G7   ', 'C^7   '],\n  },\n  {\n    label: 'Minor 5-1',\n    chords: ['G7b9b13   ', 'C-7   '],\n  },\n];\n\nfunction pickRandom(array) {\n  return array[Math.floor(Math.random() * array.length)];\n}\n\nfunction transposeToRandom(progression) {\n  const scale = pickRandom(SCALES);\n  return progression.map(measure => transposeMeasure(measure, scale));\n}\n\nfunction transposeMeasure(measure, scale) {\n  const parts = measure.split(/([ |])/);\n  return parts.map(part => part.slice(0, 1).match('[A-G]') ? transposeChord(part, scale) : part).join('');\n}\n\nfunction transposeChord(chord, scale) {\n  const root = chord.charAt(0);\n  const index = SCALES[0].indexOf(root);\n  return scale[index] + chord.slice(1);\n}\n\nfunction getRandomProgression(progressions) {\n  const progression = pickRandom(progressions);\n  return transposeToRandom(progression.chords);\n}\n\nexport function downloadChart(progressions) {\n  const title = 'Chord Practice';\n  const author = 'Generated by random-chord-generator';\n  const style = 'Medium Swing';\n  const key = 'C';\n  const unused = 'n';\n\n  const rawChords = [];\n  while (rawChords.length < 40) {\n    rawChords.push(...getRandomProgression(progressions));\n  }\n\n  const chords = '[T44' + rawChords.map(chord => chord).join('|') + '|';\n  const url = 'irealbook://' + [title, author, style, key, unused, chords].join('=');\n  console.info(url);\n  window.location.href = url;\n}","import React, { useState } from 'react';\nimport './App.css';\nimport { PROGRESSIONS, downloadChart } from './chords';\nimport fromPairs from 'lodash/fromPairs';\n\nfunction App() {\n  const [selected, setSelected] = useState(fromPairs(PROGRESSIONS.map(p => [p.label, true])))\n\n  return (\n    <div className=\"root\">\n      <form>\n        {PROGRESSIONS.map(progression => (\n          <label key={progression.label}>\n            <input\n              type=\"checkbox\"\n              checked={selected[progression.label]}\n              onChange={e => setSelected({...selected, [progression.label]: e.target.checked})}\n            />\n            {progression.label}\n          </label>\n        ))}\n        <button\n          type=\"submit\"\n          onClick={e => {\n            e.preventDefault();\n            downloadChart(PROGRESSIONS.filter(p => selected[p.label]));\n          }}\n          disabled={!Object.values(selected).some(v => v)}\n        >\n          Download Chart to iReal Pro\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}